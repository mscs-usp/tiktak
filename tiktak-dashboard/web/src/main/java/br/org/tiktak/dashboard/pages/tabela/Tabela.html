<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:wicket="http://wicket.apache.org/" xml:lang="en" lang="en">

<head></head>

<body>
    <wicket:extend>
    	<form wicket:id="form">
	    	<input type="file" wicket:id="upload" size="40"/>
	    	<br>
	    	<input type="submit" wicket:id="botao" value="Subir arquivo"/>
	    	<center>
		    	<font size="3">
					<table border="1" cellpadding="10">
					  <tr>
					    <td>Funcionalidade</td>
					    <td>Quantidade</td>
					    <td>Porcentagem</td>
					  </tr>
					  <tr wicket:id="lvFuncionalidades">
					    <td><span wicket:id="funcionalidade"></span></td>
	    				<td><span wicket:id="quantidade"></span></td>
	    				<td><span wicket:id="porcentagem"></span></td>
					  </tr>
					</table>
				</font>
			</center>
			
			<span style="display:none" id="dados" wicket:id="dados"></span>
		</form>
		
		<!--Div that will hold the pie chart-->
    	<div id="chart_div"></div>
    	
	    <!--Load the AJAX API-->
	    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
	    <script type="text/javascript">
	
	      // Load the Visualization API and the piechart package.
	      google.load('visualization', '1.0', {'packages':['corechart']});
	
	      // Set a callback to run when the Google Visualization API is loaded.
	      google.setOnLoadCallback(drawChart);
	
	      // Callback that creates and populates a data table,
	      // instantiates the pie chart, passes in the data and
	      // draws it.
	      function drawChart() {
	
	        // Create the data table.
	        var data = new google.visualization.DataTable();
	        data.addColumn('string', 'Topping');
	        data.addColumn('number', 'Slices');
	        data.addRows(eval(document.getElementById("dados").innerText));
	
	        // Set chart options
	        var options = {'title':'Quantidade de Funcionalidade',
	                       'width':400,
	                       'height':300};
	
	        // Instantiate and draw our chart, passing in some options.
	        var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
	        chart.draw(data, options);
	      }
	    </script>
    </wicket:extend>
</body>
</html>